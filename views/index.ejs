<%- include ('includes/navbar.ejs') %>
<div class="container content">
  <ul>
    <% posts.forEach((post) => { %>
      <li class="post">
        <div class="author">
          <div>
            <img class="author-img" src="/images/users/<%= post.author.avatar %>" alt="">
          </div>
          <div>
            <p class="author-name"><%= post.author.first_name %><%= post.author.last_name %></p>
            <small><%= post.createdAt %></small>
          </div>
        </div>
        <p class="post-title"><%= post.title %></p>
        <div class="post-img"><img src="/images/posts/<%= post.avatar %>" alt="" width="200px"></div>
      </li>
    <% }); %>
  </ul>
  <div class="page">
    <% for(var i=1; i<= numberPage; i++) {%>
      <small class="page-number">
        <a href="/posts/<%= i %>">
          <%= i %>
        </a>
      </small>
   <% } %>
  </div>
</div>
<script>
  // Lấy ra thanh nav
const navbar = document.getElementById("navbar");

let prevScrollpos = window.pageYOffset;

window.onscroll = function() {
  console.log('chu quoc khan')
  const currentScrollPos = window.pageYOffset;
  
  if (prevScrollpos > currentScrollPos) {
    // Khi scroll lên, hiển thị thanh nav
    navbar.style.top = "0";
  } else {
    // Khi scroll xuống, ẩn thanh nav
    navbar.style.top = "-160px";
  }

  prevScrollpos = currentScrollPos;
};
</script>
</body>
</html>